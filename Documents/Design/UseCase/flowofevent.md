# Поток событий

# Содержание 
1. [Войти в приложение](#enter)  
2. [Зарегистрироваться](#sign_up)  
3. [Войти в учётную запись](#sign_in)  
4. [Получить рекомендации](#get_recommendations)  
5. [Получить подробную информацию о продукте](#get_product_info)  
6. [Прокомментировать продукт](#comment_product)  
7. [Оценить продукт](#like_product)  
8. [Получить персонализированные рекомендации](#get_personal_recommendations)  
9. [Выйти из учётной записи](#sign_out)  
10. [Добавить новый продукт](#create_product)  
11. [Просмотреть свои продукты](#list_own_products)  
12. [Просмотреть подробную информацию о своём продукте](#get_own_product_info)  
13. [Удалить свой продукт](#delete_own_product)  
14. [Отредактировать информацию о своём продукте](#edit_own_product_info)  

<a name="enter"/>

## 1 Войти в приложение

**Описание.** Вариант использования "Войти в приложение" позволяет ЛЮБОМУ пользователю войти в приложение  
**Основной поток.**
1. Вариант использования начинается, когда пользователь проходит на главную страницу приложения
2. Пользователю отображается главная страничка
3. Вариант использования завершается  

**Постусловия.** Выполняется вариант использования "[Получить рекомендации](#get_recommendations)"  

<a name="sign_up"/>

## 2 Зарегистрироваться

**Описание.** Вариант использования "Зарегистрироваться" позволяет пользователю создать свою учётную запись  
**Предусловия.** Пользователь зашёл в приложение, нажал кнопку "Sing In / Sign Up" и выбрал вкладку "Sign Up"
**Основной поток.**
1. Приложение отображает окно регистрации, в котором запрашивает у пользователя ввод имени, почты и пароля
2. Пользователь вводит запрошенные данные
3. Пользователь нажимает на кнопку "Ok" либо "Cancel"
4. Если пользователь нажал "Cancel", выполняется альтернативный поток E2
5. Приложение проверят введённое имя на совпадение и именами уже зарегистрированных пользователей. Если совпадение выявлено, выполняется альтернативный поток E1
6. Приложение добавляет в базу данных данные о пользователе
7. Приложение скрывает окно регистрации
8. Вариант использования завершается

**Альтернативный поток E1.**
1. Приложение сообщает пользователю, что пользователь с таким именем уже существует
2. Приложение запрашивает у пользователя ввод данных заново, но сохраняет данные, введённые до этого
3. Возврат к п.2 основного потока  

**Альтернативный поток E2.**
1. Приложение скрывает окно регистрации
2. Вариант использования завершается досрочно  

**Постусловия.** В случае успешной регистрации выполняются варианты использования "[Получить персонализированные рекомендации](#get_personal_recommendations)" и "[Войти в учётную запись](#sign_in)"  

<a name="sign_in"/>

## 3 Войти в учётную запись

**Описание.** Вариант использования "Войти в свою учётную запись" позволяет пользователю войти в учётную запись    
**Предусловия.** Пользователь в прошлом выполнил вариант использования ["зарегистрироваться"](#sign_up), нажал кнопку "Sing In / Sign Up"  
**Основной поток.**
1. Приложение отображает окно входа в учётную запись с полями "имя" и "пароль"
2. Пользователь вводит своё имя (либо почту) и пароль
3. Пользователь нажимает на кнопку "Ok" либо "Cancel"
4. Если была нажата кнопка "Cancel", то выполняется альтернативнй поток E1
5. Приложение проверяет корректность введенного имени и пароля. Если данные введены неверно, выполняется альтернативный поток E2
6. Приложение скрывает окно регистрации
7. Приложение отображает пользователю страницу для зарегистрированных пользователей
7. Вариант использования завершается

**Альтернативный поток E1.**
1. Приложение скрывает окно входа в учётную запись
2. Вариант использования завершается досрочно  

**Альтернативный поток E2.**
1. Приложение сообщает пользователю, что данные введены неверно
2. Приложение запрашивает у пользователя ввод данных заново, но сохраняет данные, введённые до этого
3. Возврат к п.2 основного потока

**Постусловия.** В случае успешного входа выполняется вариант использования "[Получить персонализированные рекомендации](#get_personal_recommendations)".

<a name="get_recommendations"/>

## 4 Получить рекомендации

**Описание.** Вариант использования "Получить рекомендации" позволяет пользователю получить рекомендации согласно общей статистике о продуктах  
**Предусловия.** Был выполнен вариант использования ["Войти в приложение"](#enter) либо ["Получить персонализированные рекомендации"](#get_personal_recommendations)  
**Основной поток.**
1. Приложение предоставляет пользователю рекомендации согласно общей статистике о продуктах, например, самые высокооценённые продукты
2. Вариант использования завершается

<a name="get_product_info"/>

## 5 Получить подробную информацию о продукте

**Описание.** Вариант использования "Получить подробную информацию о продукте" предоставляет пользователю подробную информацию о продукте  
**Предусловия.** Был выполнен прецендент "[Получить рекомендации](#get_recommendations)" или его расширения  
**Основной поток.**
1. Пользователь нажимает на продукт в списке рекомендаций  
2. Приложение отображает пользователю [окно описания продукта](https://github.com/L1ttl3S1st3r/wannait/blob/master/Documents/images/mockups/Product%20info.png), содержащее название и описание продукта, комментарии, изображение и кнопку для оценки  
3. Вариант использования завершается  

<a name="comment_product"/>

## 6 Прокомментировать продукт

**Описание.** Вариант использования "Прокомментировать продукт" предоставляет зарегистрированному пользователю возможность добавлять комментарии о продукте      
**Предусловия.** Был выполнен прецендент "[Получить подробную информацию о продукте](#get_product_info)", пользователь вошёл в свою учётную запись      
**Основной поток.**
1. Пользователь вводит текст комментария  
2. Пользователь нажимает на кнопку добавить
3. Приложение добавляет комментарий пользователя
4. Приложение обновляет отображаемую страницу, чтобы добавленный комментарий был виден пользователю  
5. Вариант использования завершается  

<a name="like_product"/>

## 7 Оценить продукт

**Описание.** Вариант использования "Оценить продукт" предоставляет зарегистированному пользователю возможность поставить либо отменить положительную оценку   
**Предусловия.** Пользователь вошёл в учётную запись, был выполнен прецендент "[Получить подробную информацию о продукте](#get_product_info)" либо "[Получить рекомендации](#get_recommendations)"      
**Основной поток.**
1. Вариант использования начинается, когда пользователь нажимает кнопку "like" ([пример контекста](https://github.com/L1ttl3S1st3r/wannait/blob/master/Documents/images/mockups/Registered.png))
2. Приложение обновляет данные об оценках в базе данных
3. Кнопка меняет свою гамму, чтобы пользователь понял, что оценка успешно поставлена либо отменена
4. Вариант использования завершается

<a name="get_personal_recommendations"/>

## 8 Получить персонализированные рекомендации

**Описание.** Вариант использования "Получить персонализированные рекомендации" позволяет зарегистированному пользователю получить рекомендации согласно общей статистике о продуктах и данных о пользователе  
**Предусловия.** Был выполнен вариант использования "[Войти в учётную запись](#sign_in)"  
**Основной поток.**
1. Приложение оценивает количество данных о пользователе, например, количество оценок  
2. В случае невозможности нахождение персонализированной рекомендации, выполняется альтернативный поток E1  
3. Приложение находит рекомендации, используя данные о пользователе и продуктах  
4. Приложение предоставляет полученные рекомендации  
5. Вариант использования завершается  

**Альтернативный поток E1.**
1. Выполняется вариант использования [Получить рекомендации](#get_recommendations)
2. Вариант использования завершается досрочно  

<a name="sign_out"/>

## 9 Выйти из учётной записи

**Описание.** Вариант использования "Выйти из учётной записи" позволяет зарегистрированному пользователю выйти из учётной записи   
**Предусловия.** Зарегистированный пользователь вошёл в учётную запись  
**Основной поток.**
1. Вариант использования начинается, когда зарегистрированный пользователь нажимает на кнопку ["Sign Out"](https://github.com/L1ttl3S1st3r/wannait/blob/master/Documents/images/mockups/Registered.png)  
2. Приложение отображает пользователю [страницу для анонимных пользователей](https://github.com/L1ttl3S1st3r/wannait/blob/master/Documents/images/mockups/Anonims.png)  
7. Вариант использования завершается  

<a name="create_product"/>

## 10 Добавить новый продукт

**Описание.** Вариант использования "Добавить новый продукт" позволяет владельцу добавить новый продукт в приложение    
**Предусловия.** Зарегистированный пользователь вошёл в учётную запись, нажал на кнопку "my products", нажал на кнопку ["добавить"](https://github.com/L1ttl3S1st3r/wannait/blob/master/Documents/images/mockups/My%20Products.png)  
**Основной поток.**
1. Приложение создаёт новый продукт в базе данных  
2. Приложение выполняет прецендент "[Отредактировать информацию о своём продукте](#edit_own_product_info)"
3. Вариант использования завершается  

<a name="list_own_products"/>

## 11 Просмотреть свои продукты

**Описание.** Вариант использования "Просмотреть свои продукты" позволяет владельцу увидеть список своих продуктов  
**Предусловия.** Владелец вошёл в учётную запись, владелец нажал на кнопку "my products"  
**Основной поток.**  
1. Приложение выводит список продуктов, принадлежащих владельцу, а в случае остутствия - сообщение, утверждающее, что продукты отсутствуют    
2. Вариант использования завершается  

<a name="get_own_product_info"/>

## 12 Просмотреть подробную информацию о своём продукте

**Описание.** Вариант использования "Просмотреть подробную информацию о своём продукте" позволяет владельцу увидеть подробную информацию о своём продукте  
**Предусловия.** Был выполнен прецендент "[Просмотреть свои продукты](#list_own_products)", владелец нажал на один из своих продуктов  
**Основной поток.**
1. Приложение отображает владельцу [страницу с данными о его продукте в режиме чтения](https://github.com/L1ttl3S1st3r/wannait/blob/master/Documents/images/mockups/Product%20info%20for%20owner%20%5BRead%20Mode%5D.png)  
2. Вариант использования завершается  

<a name="delete_own_product"/>

## 13 Удалить свой продукт

**Описание.** Вариант использования "Удалить свой продукт" позволяет владельцу удалить принадлежащий ему продукт из приложения  
**Предусловия.** Владелец открыл страницу с подробной информацией о своём продукте  
**Основной поток.**  
1. Пользователь нажал кнопку "delete" на [странице с данными о его продукте](https://github.com/L1ttl3S1st3r/wannait/blob/master/Documents/images/mockups/Product%20info%20for%20owner%20%5BRead%20Mode%5D.png)  
2. Приложение отображает диалоговое окно подтверждения действия: "Вы действительно собираетесь безвозвратно удалить <имя продукта> из Wannait?" 
3. Владелец нажимает "Delete" либо "Cancel"  
4. Если владелец нажал "Cancel", то выполняется альтернативный поток E1  
5. Приложение удаляет из базы данных всю информацию о продукте  
6. Владелец перенаправляется на страницу с принадлежащими ему продуктами    
7. Вариант использования завершается  

**Альтернативный поток E1.**
1. Выполняется вариант использования [Просмотреть подробную информацию о своём продукте](#get_own_product_info) либо [Отредактировать информацию о своём продукте](#edit_own_product_info)  
2. Вариант использования завершается досрочно  

<a name="edit_own_product_info"/>

## 14 Отредактировать информацию о своём продукте

**Описание.** Вариант использования "Отредактировать информацию о своём продукте" позволяет владельцу редактировать информацию о своём продукте  
**Предусловия.** Владелец вошёл в учётную запись, открыл страницу информации о своём продукте   
**Основной поток.**
1. Вариант использования начинается, когда владелец нажимает на кнопку ["edit"](https://github.com/L1ttl3S1st3r/wannait/blob/master/Documents/images/mockups/Product%20info%20for%20owner%20%5BRead%20Mode%5D.png)  
2. Приложение отображает владельцу данные о продукте в режиме редактирования  
3. Пользователь изменяет данные о продукте    
4. Пользователь нажимает кнопку "save"  
6. Приложение сохраняет данные о продукте  
7. Вариант использования завершается  
