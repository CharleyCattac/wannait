# Поток событий

# Содержание 
1. [Войти в приложение](#enter)  
2. [Зарегистрироваться](#sign_up)  
3. [Войти в учётную запись](#sign_in)  
4. [Получить рекомендации](#get_recommendations)  
5. [Получить подробную информацию о продукте](#get_product_info)  
6. [Прокомментировать продукт](#comment_product)  
7. [Оценить продукт](#like_product)  
8. [Получить персонализированные рекомендации](#get_personal_recommendations)  
9. [Выйти из учётной записи](#sign_out)  
10. [Добавить новый продукт](#create_product)  
11. [Просмотреть свои продукты](#list_own_products)  
12. [Просмотреть подробную информацию о своём продукте](#get_own_product_info)  
13. [Удалить свой продукт](#delete_own_product)  
14. [Отредактировать информацию о своём продукте](#edit_own_product_info)  

<a name="enter"/>

## 1 Войти в приложение

**Описание.** Вариант использования "Войти в приложение" позволяет ЛЮБОМУ пользователю войти в приложение  
**Основной поток.**
1. Вариант использования начинается, когда пользователь проходит на главную страницу приложения
2. Пользователю отображается главная страничка
3. Вариант использования завершается  

**Постусловия.** Выполняется вариант использования "[Получить рекомендации](#get_recommendations)"  

<a name="sign_up"/>

## 2 Зарегистрироваться

**Описание.** Вариант использования "Зарегистрироваться" позволяет пользователю создать свою учётную запись  
**Предусловия.** Пользователь зашёл в приложение, нажал кнопку "Sing In / Sign Up" и выбрал вкладку "Sign Up"
**Основной поток.**
1. Приложение отображает окно регистрации, в котором запрашивает у пользователя ввод имени, почты и пароля
2. Пользователь вводит запрошенные данные
3. Пользователь нажимает на кнопку "Ok" либо "Cancel"
4. Если пользователь нажал "Cancel", выполняется альтернативный поток E2
5. Приложение проверят введённое имя на совпадение и именами уже зарегистрированных пользователей. Если совпадение выявлено, выполняется альтернативный поток E1
6. Приложение добавляет в базу данных данные о пользователе
7. Приложение скрывает окно регистрации
8. Вариант использования завершается

**Альтернативный поток E1.**
1. Приложение сообщает пользователю, что пользователь с таким именем уже существует
2. Приложение запрашивает у пользователя ввод данных заново, но сохраняет данные, введённые до этого
3. Возврат к п.2 основного потока  

**Альтернативный поток E2.**
1. Приложение скрывает окно регистрации
2. Вариант использования завершается досрочно  

**Постусловия.** В случае успешной регистрации выполняются варианты использования "[Получить персонализированные рекомендации](#get_personal_recommendations)" и "[Войти в учётную запись](#sign_in)"  

<a name="sign_in"/>

## 3 Войти в учётную запись

**Описание.** Вариант использования "Войти в свою учётную запись" позволяет пользователю войти в учётную запись    
**Предусловия.** Пользователь в прошлом выполнил вариант использования ["зарегистрироваться"](#sign_up), нажал кнопку "Sing In / Sign Up"  
**Основной поток.**
1. Приложение отображает окно входа в учётную запись с полями "имя" и "пароль"
2. Пользователь вводит своё имя (либо почту) и пароль
3. Пользователь нажимает на кнопку "Ok" либо "Cancel"
4. Если была нажата кнопка "Cancel", то выполняется альтернативнй поток E1
5. Приложение проверяет корректность введенного имени и пароля. Если данные введены неверно, выполняется альтернативный поток E2
6. Приложение скрывает окно регистрации
7. Приложение отображает пользователю страницу для зарегистрированных пользователей
7. Вариант использования завершается

**Альтернативный поток E1.**
1. Приложение скрывает окно входа в учётную запись
2. Вариант использования завершается досрочно  

**Альтернативный поток E2.**
1. Приложение сообщает пользователю, что данные введены неверно
2. Приложение запрашивает у пользователя ввод данных заново, но сохраняет данные, введённые до этого
3. Возврат к п.2 основного потока

**Постусловия.** В случае успешного входа выполняется вариант использования "[Получить персонализированные рекомендации](#get_personal_recommendations)".

<a name="get_recommendations"/>

## 4 Получить рекомендации

**Описание.** Вариант использования "Получить рекомендации" позволяет пользователю получить рекомендации согласно общей статистике о продуктах  
**Предусловия.** Был выполнен вариант использования ["Войти в приложение"](#enter) либо ["Получить персонализированные рекомендации"](#get_personal_recommendations)  
**Основной поток.**
1. Приложение предоставляет пользователю рекомендации согласно общей статистике о продуктах, например, самые высокооценённые продукты
2. Вариант использования завершается

<a name="get_product_info"/>

## 5 Получить подробную информацию о продукте

**Описание.** Вариант использования "Получить подробную информацию о продукте" предоставляет пользователю подробную информацию о продукте  
**Предусловия.** Был выполнен прецендент "[Получить рекомендации](#get_recommendations)" или его расширения  
**Основной поток.**
1. Пользователь нажимает на продукт в списке рекомендаций  
2. Приложение отображает пользователю [окно описания продукта](https://github.com/L1ttl3S1st3r/wannait/blob/master/Documents/images/mockups/Product%20info.png), содержащее название и описание продукта, комментарии, изображение и кнопку для оценки  
3. Вариант использования завершается  

<a name="comment_product"/>

## 6 Прокомментировать продукт

**Описание.** Вариант использования "Прокомментировать продукт" предоставляет зарегистрированному пользователю возможность добавлять комментарии о продукте      
**Предусловия.** Был выполнен прецендент "[Получить подробную информацию о продукте](#get_product_info)", пользователь вошёл в свою учётную запись      
**Основной поток.**
1. Пользователь нажимает на кнопку добавить комментарий  
2. Пользователь вводит текст комментария  
3. Пользователь нажимает на кнопку добавить
4. Приложение добавляет комментарий пользователя
5. Приложение обновляет отображаемую страницу, чтобы добавленный комментарий был виден пользователю  
6. Вариант использования завершается  

<a name="like_product"/>

## 7 Оценить продукт

**Описание.** Вариант использования "Оценить продукт" предоставляет зарегистированному пользователю возможность поставить либо отменить положительную оценку   
**Предусловия.** Пользователь вошёл в учётную запись, был выполнен прецендент "[Получить подробную информацию о продукте](#get_product_info)" либо "[Получить рекомендации](#get_recommendations)"      
**Основной поток.**
1. Вариант использования начинается, когда пользователь нажимает кнопку "like" ([пример контекста](https://github.com/L1ttl3S1st3r/wannait/blob/master/Documents/images/mockups/Registered.png))
2. Приложение обновляет данные об оценках в базе данных
3. Кнопка меняет свою гамму, чтобы пользователь понял, что оценка успешно поставлена либо отменена
4. Вариант использования завершается

<a name="get_personal_recommendations"/>

## 8 Получить персонализированные рекомендации

**Описание.** Вариант использования "Просмотреть подробную информацию" открывает полную версию страницы в браузере, установленном в системе по умолчанию.  
**Предусловия.** Пользователь вошёл в приложение.  
**Основной поток.**
1. Вариант использования начинается, когда пользователь выбирает новость в таблице двойным кликом;
2. Приложение открывает полную версию страницы в браузере, установленном в системе по умолчанию;
5. Вариант использования завершается.

<a name="sign_out"/>

## 9 Выйти из учётной записи

**Описание.** Вариант использования "Настроить профиль" позволяет зарегистрированному пользователю настроить профиль.  
**Предусловия.** Пользователь зарегистрирован в приложении и вошёл в него.  
**Основной поток.**
1. Вариант использования начинается, когда зарегистрированный пользователь выбирает пункт меню "Настроить профиль" на главном окне приложения;
2. Приложение отображает окно настроек профиля, в котором предлагает пользователю выбрать одно из действий: [добавить интернет-ресурс](#add_resource), [удалить интенет-ресурс](#remove_resource), [добавить ключевую фразу](#add_key), [удалить ключевую фразу](#remove_key), сохранить настройки;
3. Если пользователь выбирает один из первых четырёх вариантов, выполняется соответствующий вариант использования;
4. Пользователь выбирает пункт "Сохранить";
5. Приложение сохраняет новые настройки профиля в файл; 
6. Приложение скрывает окно настроек профиля.
7. Вариант использования завершается.

**Дополнительная информация.** Пользователь имеет возможность отменить действие до выбора пункта "Сохранить".  
**Постусловия.** Выполняется вариант использования "[Загрузить новости](#download_news)".

<a name="create_product"/>

## 10 Добавить новый продукт

**Описание.** Вариант использования "Добавить интернет-ресурс" позволяет зарегистрированному пользователю добавить новый URL-адрес интернет-ресурса.  
**Предусловия.** Зарегистрированный пользователь выбрал "Настроить профиль".  
**Основной поток.**
1. Пользователь выбирает "Добавить" в области "Ресурсы" окна настроек профиля;
2. Приложение отображает поле для ввода URL-адреса;
3. Пользователь вводит URL-адрес;
4. Пользователь подтверждает действие;
5. Приложение проверяет наличие URL-адреса в списке. Если он уже присутствует в списке, выполняется альтернативный поток А4;
6. Приложение добавляет URL-адрес в список;
7. Приложение скрывает поле для ввода URL-адреса;
8. Вариант использования завершается.

**Альтернативный поток А4.**
1. Приложение сообщает пользователю об ошибке добавления URL-адреса;
2. Возврат к п.3 основного потока.

<a name="list_own_products"/>

## 11 Просмотреть свои продукты

**Описание.** Вариант использования "Удалить интернет-ресурс" позволяет зарегистрированному пользователю удалить URL-адрес интернет-ресурса.  
**Предусловия.** Зарегистрированный пользователь выбрал "Настроить профиль".  
**Основной поток.**
1. Пользователь выделяет URL-адрес в списке адресов;
2. Пользователь выбирает "Удалить" в области "Ресурсы" окна настроек профиля;
3. Приложение удаляет URL-адрес из списка;
4. Вариант использования завершается.

<a name="get_own_product_info"/>

## 12 Просмотреть подробную информацию о своём продукте

**Описание.** Вариант использования "Добавить ключевую фразу" позволяет зарегистрированному пользователю добавить новую ключевую фразу.  
**Предусловия.** Зарегистрированный пользователь выбрал "Настроить профиль".  
**Основной поток.**
1. Пользователь выбирает "Добавить" в области "Фильтры" окна настроек профиля;
2. Приложение отображает поле для ввода ключевой фразы;
3. Пользователь вводит ключевую фразу;
4. Пользователь подтверждает действие;
5. Приложение проверяет наличие ключевой фразы в списке. Если она уже присутствует в списке, выполняется альтернативный поток А5;
6. Приложение добавляет ключевую фразу в список;
7. Приложение скрывает поле для ввода ключевой фразы;
8. Вариант использования завершается.

**Альтернативный поток А5.**
1. Приложение сообщает пользователю об ошибке добавления ключевой фразы;
2. Возврат к п.3 основного потока.

<a name="delete_own_product"/>

## 13 Удалить свой продукт

**Описание.** Вариант использования "Удалить ключевую фразу" позволяет зарегистрированному пользователю удалить ключевую фразу.  
**Предусловия.** Зарегистрированный пользователь выбрал "Настроить профиль".  
**Основной поток.**
1. Пользователь выделяет ключевую фразу в списке;
2. Пользователь выбирает "Удалить" в области "Фильтры" окна настроек профиля;
3. Приложение удаляет ключевую фразу из списка;
4. Вариант использования завершается.

<a name="edit_own_product_info"/>

## 14 Отредактировать информацию о своём продукте

**Описание.** Вариант использования "Выйти из учётной записи" позволяет зарегистрированному пользователю выйти из учётной записи.  
**Предусловия.** Пользователь зарегистрирован в приложении и вошёл в него.   
**Основной поток.**
1. Вариант использования начинается, когда зарегистрированный пользователь выбирает пункт меню "Выйти из учётной записи" на главном окне приложения;
2. Приложение скрывает главное окно приложения;
3. Приложение отображает окно входа в приложение;
4. Вариант использования завершается.
